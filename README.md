# HW1 - Law Links Detector

Задание заключалось в том, чтобы разработать FastAPI-сервис, который принимает на вход произвольный юридический текст на русском языке и извлекает из него **юридические ссылки** (например, `пп. 1 п. 2 ст. 3 НК РФ`) в структурированном виде JSON-объекта.

---

## Основные возможности

* Распознаёт сложные формы ссылок:
  `пп. 1, 2 и 3 п. 2 ст. 3 НК РФ`, `ч. 3 ст. 30.1 КоАП РФ`, `подп. б п. 2 ст. 105 УК РФ` и т. д.
* Поддерживает диапазоны (`а–в`, `43.2–43.6`) и множественные перечисления.
* Работает только с законами, присутствующими в файле `law_aliases.json`.
  Если закон отсутствует в базе — ссылка **не создаётся**.
* Возвращает результат в формате:

  ```json
  {
    "links": [
      {
        "law_id": 15,
        "article": "3",
        "point_article": "2",
        "subpoint_article": "1"
      },
      ...
    ]
  }
  ```


---

## Запуск через Docker

### 1. Сборка образа

В корневой папке проекта:

```bash
docker build -t law-links-service .
```

### 2. Запуск контейнера
⚠️  ВНИМАНИЕ: Сервис запускается долго ~15 минут (Просьба дождаться)

```bash
docker run -p 8978:8978 --name law-links law-links-service
```

### 3. Проверка состояния сервиса

```bash
curl http://localhost:8978/health
```

Ожидаемый ответ:

```json
{"status":"healthy"}
```

### 4. Тест запроса

```bash
curl -X POST http://localhost:8978/detect \
     -H "Content-Type: application/json" \
     -d "{\"text\":\"пп. 1 п. 1 ст. 374 НК РФ\"}"
```

Ответ:

```json
{
  "links": [
    {
      "law_id": 15,
      "article": "374",
      "point_article": "1",
      "subpoint_article": "1"
    }
  ]
}
```

---

##  Остановка и удаление контейнера

```bash
docker stop law-links
docker rm law-links
```



